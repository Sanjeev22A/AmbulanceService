services:
  db_container:
    image: postgis/postgis:16-3.4-alpine
    container_name: db_container
    restart: unless-stopped
    env_file: "config.env"
    volumes:
      - pgdata:/var/lib/postgresql/data
    ports:
      - "${DB_HOST_PORT:-6969}:${DB_CONTAINER_PORT:-5432}"
    networks:
      - my_cloud_network
  ambulance_service:
    image: sanjeev775/ambulance-service:latest
    container_name: spring_application
    restart: unless-stopped
    env_file: "config.env"
    ports:
      - "${BACKEND_HOST_PORT:-7777}:${BACKEND_CONTAINER_PORT:-8080}"
    networks:
      - my_cloud_network
volumes:
  pgdata:

networks:
  my_cloud_network:
    driver: bridge